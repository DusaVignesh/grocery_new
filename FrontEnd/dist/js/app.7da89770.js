(function(){"use strict";var e={5312:function(e,t,o){var a=o(2862),s=o(5021);function l(e,t,o,a,l,r){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n)])}var r={name:"App",components:{}},n=o(6068);const c=(0,n.Z)(r,[["render",l]]);var i=c,d=o(6575),u=o(609),g=o(4886);const m={class:"container mt-5"},_={class:"row justify-content-center"},p={class:"col-md-6"},h={class:"card"},v={class:"card-body"},y=(0,s._)("h2",{class:"card-title text-center"},"Login",-1),w={key:0,class:"flash-message"},f={class:"text-danger"},b={class:"form-group"},P=(0,s._)("label",{for:"username"},"Username",-1),x={class:"form-group"},C=(0,s._)("label",{for:"password"},"Password",-1),k=(0,s._)("p",null,"Select your role:",-1),D=["value"],Z=(0,s._)("div",{class:"my-4"},[(0,s._)("button",{type:"submit",class:"btn btn-primary btn-block"}," Login ")],-1),N=(0,s._)("a",{href:"/signup",class:"text-decoration-none"},[(0,s.Uk)("Don't have an account "),(0,s._)("span",null,"Sign Up")],-1);function z(e,t,o,l,r,n){return(0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("div",_,[(0,s._)("div",p,[(0,s._)("div",h,[(0,s._)("div",v,[y,r.flash_message?((0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("h6",f,(0,g.zw)(r.flash_message),1)])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[(0,s._)("div",b,[P,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>r.username=e),required:""},null,512),[[a.nr,r.username]])]),(0,s._)("div",x,[C,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),required:""},null,512),[[a.nr,r.password]])]),k,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.Roles,(e=>((0,s.wg)(),(0,s.iD)("label",{key:e.value},[(0,s.wy)((0,s._)("input",{type:"radio",value:e.value,"onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedRole=e)},null,8,D),[[a.G2,r.selectedRole]]),(0,s.Uk)(" "+(0,g.zw)(e.label)+"   ",1)])))),128)),Z],32),N])])])])])}o(3632);var q=o(4189),A={name:"login-page",data(){return{username:"",password:"",selectedRole:"",loginId:"",Roles:[{label:"Admin",value:"admin"},{label:"Manager",value:"manager"},{label:"User",value:"user"}],flash_message:null}},methods:{async login(){const e={username:this.username,password:this.password,role:this.selectedRole};q.Z.post("http://localhost:5050/login",e).then((e=>{if(console.log(e),200==e.request.status)this.flash_message=e.data.flash_message;else if(201==e.request.status){const t=e.data.token,o=e.data.role;u.Z.set("jwt_token",t,{expires:1});const a=u.Z.get("jwt_token");console.log(a),"manager"!=o&&"user"!=o||u.Z.set("logged_id",e.data.id,{expires:1}),u.Z.set("username",e.data.username,{expires:1}),u.Z.set("role",o,{expires:1});const s=u.Z.get("logged_id");console.log(s),"admin"==o?this.$router.push("/adminHome"):"manager"==o?this.$router.push("/managerHome"):this.$router.push("/userHome")}else this.flash_message=e.data.flash_message})).catch((e=>{console.log(e),console.error("Login failed:")}))}}};const U=(0,n.Z)(A,[["render",z]]);var S=U;const j={class:"container mt-5"},H={class:"row justify-content-center"},M={class:"col-md-6"},O={class:"card"},W={class:"card-body"},V=(0,s._)("h2",{class:"card-title text-center"},"User Registration Form",-1),R={key:0,class:"text-danger"},L={class:"form-group"},F=(0,s._)("label",{for:"name"},"Full Name",-1),I={class:"form-group"},Q=(0,s._)("label",{for:"email"},"Email",-1),E={class:"form-group"},K=(0,s._)("label",{for:"username"},"Username",-1),Y={class:"form-group"},$=(0,s._)("label",{for:"password"},"Password",-1),G=(0,s._)("p",null,"Select your role:",-1),T=["value"],B=(0,s._)("div",{class:"my-4"},[(0,s._)("button",{type:"submit",class:"btn btn-primary btn-block"}," Signup ")],-1),J=(0,s._)("a",{href:"/",class:"text-decoration-none"},[(0,s.Uk)("Have an account "),(0,s._)("span",null,"Login ?")],-1);function X(e,t,o,l,r,n){return(0,s.wg)(),(0,s.iD)("div",j,[(0,s._)("div",H,[(0,s._)("div",M,[(0,s._)("div",O,[(0,s._)("div",W,[V,r.flash_message?((0,s.wg)(),(0,s.iD)("h6",R,(0,g.zw)(r.flash_message),1)):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>n.signup&&n.signup(...e)),["prevent"]))},[(0,s._)("div",L,[F,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>r.name=e),required:""},null,512),[[a.nr,r.name]])]),(0,s._)("div",I,[Q,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>r.email=e),required:""},null,512),[[a.nr,r.email]])]),(0,s._)("div",E,[K,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":t[2]||(t[2]=e=>r.username=e),required:""},null,512),[[a.nr,r.username]])]),(0,s._)("div",Y,[$,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":t[3]||(t[3]=e=>r.password=e),required:""},null,512),[[a.nr,r.password]])]),G,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.Roles,(e=>((0,s.wg)(),(0,s.iD)("label",{key:e.value},[(0,s.wy)((0,s._)("input",{type:"radio",value:e.value,"onUpdate:modelValue":t[4]||(t[4]=e=>r.selectedRole=e)},null,8,T),[[a.G2,r.selectedRole]]),(0,s.Uk)(" "+(0,g.zw)(e.role)+"   ",1)])))),128)),B],32),J])])])])])])}var ee={name:"signup-page",data(){return{name:"",username:"",password:"",selectedRole:"",email:"",Roles:[{role:"Manager",value:"manager"},{role:"User",value:"user"}],flash_message:null}},methods:{async signup(){const e={name:this.name,username:this.username,password:this.password,role:this.selectedRole,email:this.email};q.Z.post("http://localhost:5050/signup",e).then((e=>{console.log(e),200==e.request.status?this.flash_message=e.data.flash_message:this.$router.push("/")})).catch((e=>{console.error("Login failed:",e)}))}}};const te=(0,n.Z)(ee,[["render",X]]);var oe=te;const ae={class:"content-wrapper"},se={class:"container-xxl flex-grow-1 container-p-y mt-5"},le={class:"row d-flex justify-content-center"},re={class:"text-center"},ne={class:"col-lg-5"},ce={class:"card"},ie={key:0,class:"card-header"},de=(0,s._)("p",null,"Add Product Manager",-1),ue={class:"text-danger"},ge={key:1,class:"card-header"},me=(0,s._)("p",null,"Add Product Manager",-1),_e={class:"card-body"},pe=(0,s._)("div",{class:"row"},[(0,s._)("div",{class:"col-lg-4"},"Full Name"),(0,s._)("div",{class:"col-lg-4"},"Username"),(0,s._)("div",{class:"col-lg-4"},"Approve Status")],-1),he={class:"list-group"},ve={class:"row"},ye={class:"col-lg-4"},we={class:"col-lg-3"},fe={class:"col-lg-5"},be={class:"row"},Pe={class:"col-lg-6"},xe=["onClick"],Ce={class:"col-lg-6"},ke=["onClick"],De={class:"col-lg-6"},Ze={class:"card"},Ne={key:0,class:"card-header"},ze=(0,s._)("p",null,"Delete Product",-1),qe={class:"text-danger"},Ae={key:1,class:"card-body"},Ue=(0,s.uE)('<p>Delete Product</p><div class="row"><div class="col-lg-3">Product</div><div class="col-lg-3">Category</div><div class="col-lg-2">Manager</div><div class="col-lg-2">Delete</div><div class="col-lg-2">Reject</div></div>',2),Se={class:"list-group"},je={class:"row"},He={class:"col-lg-3"},Me={class:"col-lg-3"},Oe={class:"col-lg-2"},We={class:"col-lg-2"},Ve=["onClick"],Re={class:"col-lg-2"},Le=["onClick"],Fe={class:"container-xxl flex-grow-1 container-p-y mt-5"},Ie={class:"row d-flex justify-content-center"},Qe={class:"col-lg-6"},Ee={class:"card"},Ke={class:"card-body"},Ye=(0,s._)("h4",null,"Recent Categories Added Section",-1),$e=(0,s._)("div",{class:"d-flex flex-row justify-content-between"},[(0,s._)("div",{class:"mr-4"},"Category Name"),(0,s._)("div",{class:"mr-4"},"Product Name"),(0,s._)("div",null,"Price"),(0,s._)("div",{class:"mr-3"},"No of products")],-1),Ge={class:"list-group"},Te={class:"d-flex justify-content-between"},Be={class:"text-warning"},Je={key:0},Xe={class:"text-success"},et={key:1},tt=(0,s._)("p",{class:"text-danger"},"Out of Stock",-1),ot=[tt];function at(e,t,o,a,l,r){const n=(0,s.up)("navbar");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ae,[(0,s.Wm)(n),(0,s._)("div",se,[(0,s._)("div",le,[(0,s._)("h1",re,"Welcome "+(0,g.zw)(l.username),1),(0,s._)("div",ne,[(0,s._)("div",ce,[l.flash_message?((0,s.wg)(),(0,s.iD)("div",ie,[de,(0,s._)("p",ue,(0,g.zw)(l.flash_message),1)])):((0,s.wg)(),(0,s.iD)("div",ge,[me,(0,s._)("div",_e,[pe,(0,s._)("ul",he,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.storeManagers,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"list-group-item"},[(0,s._)("div",ve,[(0,s._)("div",ye,(0,g.zw)(e.name),1),(0,s._)("div",we,(0,g.zw)(e.username),1),(0,s._)("div",fe,[(0,s._)("div",be,[(0,s._)("div",Pe,[(0,s._)("button",{class:"btn btn-primary btn-block",onClick:t=>r.acceptCredentials(e.id)}," Approve ",8,xe)]),(0,s._)("div",Ce,[(0,s._)("button",{class:"btn btn-danger btn-block",onClick:t=>r.rejectCredentials(e.id)}," Reject ",8,ke)])])])])])))),128))])])]))])]),(0,s._)("div",De,[(0,s._)("div",Ze,[l.flash_message2?((0,s.wg)(),(0,s.iD)("div",Ne,[ze,(0,s._)("p",qe,(0,g.zw)(l.flash_message2),1)])):((0,s.wg)(),(0,s.iD)("div",Ae,[Ue,(0,s._)("ul",Se,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deleteProducts,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"list-group-item"},[(0,s._)("div",je,[(0,s._)("div",He,(0,g.zw)(e.product_name),1),(0,s._)("div",Me,(0,g.zw)(e.category_name),1),(0,s._)("div",Oe,(0,g.zw)(e.manager_name),1),(0,s._)("div",We,[(0,s._)("button",{class:"btn btn-primary btn-block",onClick:t=>r.deleteProduct(e.product_id)}," Delete ",8,Ve)]),(0,s._)("div",Re,[(0,s._)("button",{class:"btn btn-danger btn-block",onClick:t=>r.undeleteProduct(e.product_id)}," Reject ",8,Le)])])])))),128))])]))])])])])]),(0,s._)("div",Fe,[(0,s._)("div",Ie,[(0,s._)("div",Qe,[(0,s._)("div",Ee,[(0,s._)("div",Ke,[Ye,$e,(0,s._)("ul",Ge,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.category_products,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"list-group-item"},[(0,s._)("div",Te,[(0,s._)("div",null,(0,g.zw)(e.category_name),1),(0,s._)("div",null,(0,g.zw)(e.product_name),1),(0,s._)("div",null,[(0,s._)("p",Be,(0,g.zw)(e.price)+" /- "+(0,g.zw)(e.units),1)]),(0,s._)("div",null,[e.Quantity>0?((0,s.wg)(),(0,s.iD)("div",Je,[(0,s._)("p",Xe,(0,g.zw)(e.Quantity)+" "+(0,g.zw)(e.units),1)])):((0,s.wg)(),(0,s.iD)("div",et,ot))])])])))),128))])])])])])])],64)}const st={class:"navbar navbar-expand-lg navbar-light bg-light"},lt={class:"container"},rt=(0,s._)("a",{class:"navbar-brand nav-element",href:"/adminHome"},"Grocery Store",-1),nt={class:"navbar-nav"},ct={class:"nav-item dropdown"},it=(0,s._)("a",{class:"nav-link dropdown-toggle",href:"#",id:"categoryDropdown",role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}," Category Management ",-1),dt={class:"dropdown-menu","aria-labelledby":"categoryDropdown"},ut=(0,s._)("a",{class:"dropdown-item",href:"#"},"Add Category",-1),gt=(0,s._)("a",{class:"dropdown-item",href:"#"},"Edit Category",-1),mt=(0,s._)("a",{class:"dropdown-item",href:"#"},"Delete Categories",-1),_t={class:"navbar-nav ml-auto"},pt=(0,s._)("a",{href:"#"},[(0,s._)("button",{class:"btn btn-outline-info my-2 my-sm-0"}," All Products ")],-1),ht={class:"navbar-nav ml-auto"};function vt(e,t,o,a,l,r){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",st,[(0,s._)("div",lt,[rt,(0,s._)("ul",nt,[(0,s._)("li",ct,[it,(0,s._)("div",dt,[(0,s.Wm)(n,{to:"/addCategory"},{default:(0,s.w5)((()=>[ut])),_:1}),(0,s.Wm)(n,{to:"/editCategory"},{default:(0,s.w5)((()=>[gt])),_:1}),(0,s.Wm)(n,{to:"/deleteCategory"},{default:(0,s.w5)((()=>[mt])),_:1})])])]),(0,s._)("ul",_t,[(0,s._)("li",null,[(0,s.Wm)(n,{to:"/allproducts"},{default:(0,s.w5)((()=>[pt])),_:1})])]),(0,s._)("ul",ht,[(0,s._)("li",null,[(0,s._)("button",{class:"btn btn-outline-danger my-2 my-sm-0",onClick:t[0]||(t[0]=(...e)=>r.logout&&r.logout(...e))}," Logout ")])])])])}var yt={name:"custom-navbar",data(){return{}},methods:{logout(){u.Z.remove("jwt_token"),u.Z.remove("logged_id"),u.Z.remove("username"),u.Z.remove("role"),this.$router.push("/")}}};const wt=(0,n.Z)(yt,[["render",vt]]);var ft=wt,bt={name:"admin-home",components:{navbar:ft},data(){return{storeManagers:[],deleteProducts:[],categories:[],category_products:[],username:u.Z.get("username"),flash_message:null,flash_message2:null}},mounted(){this.fetchStoreManagers(),this.fetchDeleteProducts(),this.fetchCategories(),this.fetchCategoriesWithProducts()},methods:{async fetchCategoriesWithProducts(){try{const e=await q.Z.get("http://localhost:5050/getcategories_products");console.log(e),this.category_products=e.data.category_products,console.log(this.category_products)}catch(e){console.log(e)}},async fetchStoreManagers(){try{const e=await q.Z.get("http://localhost:5050/store_requests");console.log(e),202==e.request.status?(this.storeManagers=e.data.storemanagers,console.log(this.storeManagers)):this.flash_message=e.data.message}catch(e){console.error(e)}},async fetchDeleteProducts(){try{const e=await q.Z.get("http://localhost:5050/deleteProducts");console.log(e),201==e.request.status?(this.deleteProducts=e.data.deleteProducts,console.log(this.deleteProducts)):this.flash_message2=e.data.message}catch(e){console.error(e)}},async fetchCategories(){try{const e=await q.Z.get("http://localhost:5050/getCategories");console.log(e),this.categories=e.data.categories,console.log(this.categories)}catch(e){console.error(e)}},acceptCredentials(e){q.Z.post("http://localhost:5050/accept",{id:e}).then((e=>{console.log(e.data.message),this.fetchStoreManagers()})).catch((e=>{console.error(e)}))},rejectCredentials(e){q.Z.post("http://localhost:5050/reject",{id:e}).then((e=>{console.log(e.data.message),this.fetchStoreManagers()})).catch((e=>{console.error(e)}))},deleteProduct(e){q.Z.post("http://localhost:5050/deleteProduct",{id:e}).then((e=>{console.log(e.data.message),this.fetchDeleteProducts()})).catch((e=>{console.error(e)}))},undeleteProduct(e){q.Z.post("http://localhost:5050/undeleteProduct",{id:e}).then((e=>{console.log(e.data.message),this.fetchDeleteProducts()})).catch((e=>{console.error(e)}))}}};const Pt=(0,n.Z)(bt,[["render",at]]);var xt=Pt;const Ct={class:"content-wrapper"},kt={class:"container mt-4"},Dt={class:"row d-flex justify-content-center"},Zt={class:"col-lg-6"},Nt={class:"card"},zt={class:"card-body"},qt=(0,s._)("h3",null,"Add Category Section",-1),At=(0,s._)("h5",null,"Please Enter Category Details",-1),Ut={class:"form-group"},St=(0,s._)("label",{for:"categoryName"},"Category Name:",-1),jt=(0,s._)("button",{type:"submit",class:"btn btn-primary mt-3"}," Submit ",-1);function Ht(e,t,o,l,r,n){const c=(0,s.up)("navbar");return(0,s.wg)(),(0,s.iD)("div",Ct,[(0,s.Wm)(c),(0,s._)("div",kt,[(0,s._)("div",Dt,[(0,s._)("div",Zt,[(0,s._)("div",Nt,[(0,s._)("div",zt,[qt,At,(0,s._)("form",{onSubmit:t[1]||(t[1]=(0,a.iM)(((...e)=>n.addCategory&&n.addCategory(...e)),["prevent"]))},[(0,s._)("div",Ut,[St,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.categoryName=e),type:"text",class:"form-control",id:"categoryName",required:""},null,512),[[a.nr,r.categoryName]])]),jt],32)])])])])])])}var Mt={name:"add-category",components:{navbar:ft},data(){return{categoryName:""}},methods:{async addCategory(){const e={categoryName:this.categoryName};q.Z.post("http://localhost:5050/add_category",e).then((e=>{console.log(e),this.$router.push("/adminHome")})).catch((e=>{console.error("Adding failed:",e)}))}}};const Ot=(0,n.Z)(Mt,[["render",Ht]]);var Wt=Ot;const Vt={class:"content-wrapper"},Rt={class:"container-xxl flex-grow-1 container-p-y mt-5"},Lt={class:"row d-flex justify-content-center"},Ft={class:"col-lg-6"},It={class:"card"},Qt={class:"card-body"},Et=(0,s._)("h4",null,"Delete Category",-1),Kt={class:"list-group"},Yt={class:"d-flex justify-content-between"},$t=["onClick"];function Gt(e,t,o,a,l,r){const n=(0,s.up)("navbar");return(0,s.wg)(),(0,s.iD)("div",Vt,[(0,s.Wm)(n),(0,s._)("div",Rt,[(0,s._)("div",Lt,[(0,s._)("div",Ft,[(0,s._)("div",It,[(0,s._)("div",Qt,[Et,(0,s._)("ul",Kt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.categories,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"list-group-item"},[(0,s._)("div",Yt,[(0,s._)("div",null,(0,g.zw)(e.category_name),1),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-danger btn-block",onClick:t=>r.deleteCategory(e.category_id)}," Delete ",8,$t)])])])))),128))])])])])])])])}var Tt={name:"delete-category",components:{navbar:ft},data(){return{categories:[]}},mounted(){this.fetchCategories()},methods:{async fetchCategories(){try{const e=await q.Z.get("http://localhost:5050/getCategories");console.log(e),this.categories=e.data.categories,console.log(this.categories)}catch(e){console.error(e)}},async deleteCategory(e){await q.Z.post("http://localhost:5050/deleteCategory",{id:e}).then((e=>{console.log(e.data.message),this.fetchCategories()})).catch((e=>{console.error(e)}))}}};const Bt=(0,n.Z)(Tt,[["render",Gt]]);var Jt=Bt;const Xt={class:"content-wrapper"},eo={class:"container mt-4"},to={class:"row d-flex justify-content-center"},oo={class:"col-lg-6"},ao={class:"card"},so={class:"card-body"},lo=(0,s._)("h3",null,"Edit Category Section",-1),ro=(0,s._)("h5",null,"Please Enter Category Details",-1),no={class:"form-group"},co=(0,s._)("label",{for:"OldName"},"Please Enter Old Category Name:",-1),io={class:"form-group"},uo=(0,s._)("label",{for:"newName"},"Please Enter New Category Name:",-1),go=(0,s._)("button",{type:"submit",class:"btn btn-primary mt-3"}," Submit ",-1);function mo(e,t,o,l,r,n){const c=(0,s.up)("navbar");return(0,s.wg)(),(0,s.iD)("div",Xt,[(0,s.Wm)(c),(0,s._)("div",eo,[(0,s._)("div",to,[(0,s._)("div",oo,[(0,s._)("div",ao,[(0,s._)("div",so,[lo,ro,(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>n.editCategory&&n.editCategory(...e)),["prevent"]))},[(0,s._)("div",no,[co,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.oldName=e),type:"text",class:"form-control",id:"oldName",required:""},null,512),[[a.nr,r.oldName]])]),(0,s._)("div",io,[uo,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.newName=e),type:"text",class:"form-control",id:"newName",required:""},null,512),[[a.nr,r.newName]])]),go],32)])])])])])])}var _o={name:"edit-category",components:{navbar:ft},data(){return{oldName:"",newName:""}},methods:{async editCategory(){const e={oldName:this.oldName,newName:this.newName};q.Z.post("http://localhost:5050/edit_category",e).then((e=>{console.log(e)})).catch((e=>{console.error("Adding failed:",e)}))}}};const po=(0,n.Z)(_o,[["render",mo]]);var ho=po;const vo={class:"content-wrapper"},yo={class:"text-center"},wo={class:"container-xxl flex-grow-1 container-p-y mt-5"},fo={class:"row d-flex justify-content-center"},bo={class:"col-lg-6"},Po={class:"card"},xo={class:"card-body"},Co=(0,s._)("h4",null,"All Products Section",-1),ko=(0,s._)("div",{class:"d-flex flex-row justify-content-between"},[(0,s._)("div",{class:"mr-4"},"Product Name"),(0,s._)("div",null,"Price"),(0,s._)("div",{class:"mr-3"},"No of Items")],-1),Do={class:"list-group"},Zo={class:"d-flex justify-content-between"},No={class:"text-warning"},zo={key:0},qo={class:"text-success"},Ao={key:1},Uo=(0,s._)("p",{class:"text-danger"},"Out of Stock",-1),So=[Uo];function jo(e,t,o,a,l,r){const n=(0,s.up)("managerNav");return(0,s.wg)(),(0,s.iD)("div",vo,[(0,s.Wm)(n),(0,s._)("h1",yo,"Welcome "+(0,g.zw)(l.username),1),(0,s._)("div",wo,[(0,s._)("div",fo,[(0,s._)("div",bo,[(0,s._)("div",Po,[(0,s._)("div",xo,[Co,ko,(0,s._)("ul",Do,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"list-group-item"},[(0,s._)("div",Zo,[(0,s._)("div",null,(0,g.zw)(e.product_name),1),(0,s._)("div",null,[(0,s._)("p",No,(0,g.zw)(e.price)+" Rs/- "+(0,g.zw)(e.units),1)]),(0,s._)("div",null,[e.Quantity>0?((0,s.wg)(),(0,s.iD)("div",zo,[(0,s._)("p",qo,(0,g.zw)(e.Quantity)+" "+(0,g.zw)(e.units),1)])):((0,s.wg)(),(0,s.iD)("div",Ao,So))])])])))),128))])])])])])])])}const Ho={class:"navbar navbar-expand-lg navbar-light bg-light"},Mo={class:"container"},Oo=(0,s._)("a",{class:"navbar-brand nav-element",href:"/managerHome"},"Grocery Store",-1),Wo={class:"navbar-nav"},Vo={class:"nav-item dropdown"},Ro=(0,s._)("a",{class:"nav-link dropdown-toggle",href:"#",id:"categoryDropdown",role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}," Product Management ",-1),Lo={class:"dropdown-menu","aria-labelledby":"categoryDropdown"},Fo=(0,s._)("a",{class:"dropdown-item",href:"#"},"Add Product",-1),Io=(0,s._)("a",{class:"dropdown-item",href:"#"},"Edit Product",-1),Qo=(0,s._)("a",{class:"dropdown-item",href:"#"}," Remove Product",-1),Eo={class:"navbar-nav ml-auto"};function Ko(e,t,o,a,l,r){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",Ho,[(0,s._)("div",Mo,[Oo,(0,s._)("ul",Wo,[(0,s._)("li",Vo,[Ro,(0,s._)("div",Lo,[(0,s.Wm)(n,{to:"/addProduct"},{default:(0,s.w5)((()=>[Fo])),_:1}),(0,s.Wm)(n,{to:"/editProduct"},{default:(0,s.w5)((()=>[Io])),_:1}),(0,s.Wm)(n,{to:"/deleteProduct"},{default:(0,s.w5)((()=>[Qo])),_:1})])])]),(0,s._)("button",{class:"btn btn-warning",onClick:t[0]||(t[0]=(...e)=>r.csv_downloader&&r.csv_downloader(...e))}," Download Report "),(0,s._)("ul",Eo,[(0,s._)("li",null,[(0,s._)("button",{class:"btn btn-outline-danger my-2 my-sm-0",onClick:t[1]||(t[1]=(...e)=>r.onClickLogout&&r.onClickLogout(...e))}," Logout ")])])])])}var Yo={name:"manager-navbar",data(){return{store_manager_id:u.Z.get("logged_id")}},methods:{onClickLogout(){u.Z.remove("logged_id"),u.Z.remove("jwt_token"),u.Z.remove("username"),u.Z.remove("role"),this.$router.push("/")},async csv_downloader(){console.log("Helloworld");const e=this.store_manager_id;console.log(this.store_manager_id);try{const t=await q.Z.get(`http://localhost:5050/export_products/${e}`);console.log(t)}catch(t){console.log(t)}}}};const $o=(0,n.Z)(Yo,[["render",Ko]]);var Go=$o,To={name:"manager-home",data(){return{username:u.Z.get("username"),products:[]}},components:{managerNav:Go},mounted(){this.fetchProducts()},methods:{async fetchProducts(){await q.Z;try{const e=await q.Z.get("http://localhost:5050/allproducts");console.log(e),this.products=e.data.products,console.log(this.products)}catch(e){console.log(e)}}}};const Bo=(0,n.Z)(To,[["render",jo]]);var Jo=Bo;const Xo={class:"content-wrapper"},ea={class:"container mt-4"},ta={class:"row d-flex justify-content-center"},oa={class:"col-lg-6"},aa={class:"card"},sa={class:"card-body"},la=(0,s._)("h3",null,"Add Product Section",-1),ra=(0,s._)("h5",null,"Please Enter Product Details",-1),na={key:0,class:"flash-message"},ca={class:"text-danger"},ia={class:"form-group"},da=(0,s._)("label",{for:"productName"},"Product Name:",-1),ua={class:"form-group"},ga=(0,s._)("label",{for:"categories"},"Choose Category:",-1),ma=(0,s._)("option",{value:"",disabled:"",selected:""},"Select Category",-1),_a=["value"],pa={class:"form-group"},ha=(0,s._)("label",{for:"price"},"Product Price:",-1),va={class:"form-group"},ya=(0,s._)("label",{for:"units"},"Select Units:",-1),wa=(0,s._)("option",{value:"",disabled:"",selected:""},"Select Units",-1),fa=(0,s._)("option",{value:"Litre"},"Litres",-1),ba=(0,s._)("option",{value:"Kg"},"Kg",-1),Pa=(0,s._)("option",{value:"Dozen"},"Dozens",-1),xa=[wa,fa,ba,Pa],Ca={class:"form-group"},ka=(0,s._)("label",{for:"quantity"},"quantity",-1),Da=(0,s._)("button",{type:"submit",class:"btn btn-primary mt-3"}," Submit ",-1);function Za(e,t,o,l,r,n){const c=(0,s.up)("managerNav");return(0,s.wg)(),(0,s.iD)("div",Xo,[(0,s.Wm)(c),(0,s._)("div",ea,[(0,s._)("div",ta,[(0,s._)("div",oa,[(0,s._)("div",aa,[(0,s._)("div",sa,[la,ra,(0,s._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>n.addProducts&&n.addProducts(...e)),["prevent"]))},[r.flash_message?((0,s.wg)(),(0,s.iD)("div",na,[(0,s._)("h6",ca,(0,g.zw)(r.flash_message),1)])):(0,s.kq)("",!0),(0,s._)("div",ia,[da,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.productName=e),type:"text",class:"form-control",id:"productName",required:""},null,512),[[a.nr,r.productName]])]),(0,s._)("div",ua,[ga,(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>r.selectedCategory=e),id:"categories"},[ma,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.categories,((e,t)=>((0,s.wg)(),(0,s.iD)("option",{value:e.category_id,key:t},(0,g.zw)(e.category_name),9,_a)))),128))],512),[[a.bM,r.selectedCategory]])]),(0,s._)("div",pa,[ha,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.price=e),type:"text",class:"form-control",id:"price",required:""},null,512),[[a.nr,r.price]])]),(0,s._)("div",va,[ya,(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>r.selectedUnit=e),id:"units"},xa,512),[[a.bM,r.selectedUnit]])]),(0,s._)("div",Ca,[ka,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.quantity=e),type:"number",class:"form-control",id:"quantity",required:""},null,512),[[a.nr,r.quantity]])]),Da],32)])])])])])])}var Na={name:"addproduct-home",data(){return{categories:[],productName:"",price:"",quantity:"",selectedUnit:"",selectedCategory:"",flash_message:""}},components:{managerNav:Go},mounted(){this.fetchCategories()},methods:{async fetchCategories(){await q.Z;try{const e=await q.Z.get("http://localhost:5050/getCategories");console.log(e),this.categories=e.data.categories,console.log(this.categories)}catch(e){console.log(e)}},async addProducts(){const e=u.Z.get("logged_id");console.log(e);const t={productName:this.productName,price:this.price,quantity:this.quantity,category:this.selectedCategory,units:this.selectedUnit,store_manager_id:e};await q.Z;try{const e=await q.Z.post("http://localhost:5050/addProduct",t);console.log(e),202==e.request.status?this.flash_message=e.data.flash_message:this.$router.push("/managerHome")}catch(o){console.log(o)}}}};const za=(0,n.Z)(Na,[["render",Za]]);var qa=za;const Aa={class:"content-wrapper"},Ua={class:"container-xxl flex-grow-1 container-p-y mt-5"},Sa={class:"row d-flex justify-content-center"},ja={key:0,class:"flash-message"},Ha={class:"text-danger text-center"},Ma={class:"col-lg-6"},Oa={class:"card"},Wa={class:"card-body"},Va=(0,s._)("h4",null,"All Products Section",-1),Ra=(0,s._)("div",{class:"d-flex flex-row justify-content-between"},[(0,s._)("div",{class:"mr-4"},"Product Name"),(0,s._)("div",null,"Price"),(0,s._)("div",{class:"mr-3"},"No of Items"),(0,s._)("div",{class:"mr-3"},"Delete status")],-1),La={class:"list-group"},Fa={class:"d-flex justify-content-between"},Ia={class:"btn btn-warning btn-block"},Qa={key:0},Ea={class:"text-success"},Ka={key:1},Ya=(0,s._)("p",{class:"text-danger"},"Out of Stock",-1),$a=[Ya],Ga=["onClick"];function Ta(e,t,o,a,l,r){const n=(0,s.up)("managerNav");return(0,s.wg)(),(0,s.iD)("div",Aa,[(0,s.Wm)(n),(0,s._)("div",Ua,[(0,s._)("div",Sa,[l.flash_message?((0,s.wg)(),(0,s.iD)("div",ja,[(0,s._)("h6",Ha,(0,g.zw)(l.flash_message),1)])):(0,s.kq)("",!0),(0,s._)("div",Ma,[(0,s._)("div",Oa,[(0,s._)("div",Wa,[Va,Ra,(0,s._)("ul",La,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"list-group-item"},[(0,s._)("div",Fa,[(0,s._)("div",null,(0,g.zw)(e.product_name),1),(0,s._)("div",null,[(0,s._)("button",Ia,(0,g.zw)(e.price)+" /- "+(0,g.zw)(e.units),1)]),(0,s._)("div",null,[e.Quantity>0?((0,s.wg)(),(0,s.iD)("div",Qa,[(0,s._)("p",Ea,(0,g.zw)(e.Quantity)+" Items",1)])):((0,s.wg)(),(0,s.iD)("div",Ka,$a))]),(0,s._)("div",null,[(0,s._)("button",{onClick:t=>r.setDeleteProduct(e.product_name),class:"btn btn-danger btn-block"}," Delete ",8,Ga)])])])))),128))])])])])])])])}var Ba={name:"manager-home",data(){return{products:[],flash_message:null}},components:{managerNav:Go},mounted(){this.fetchProducts()},methods:{async fetchProducts(){await q.Z;try{const e=await q.Z.get("http://localhost:5050/allproducts");console.log(e),this.products=e.data.products,console.log(this.products)}catch(e){console.log(e)}},async setDeleteProduct(e){await q.Z.post("http://localhost:5050/setDeleteProduct",{product_name:e}).then((e=>{console.log(e.data.message),this.flash_message=e.data.message,this.fetchProducts()})).catch((e=>{console.error(e)}))}}};const Ja=(0,n.Z)(Ba,[["render",Ta]]);var Xa=Ja;const es={class:"content-wrapper"},ts={class:"container mt-4"},os={class:"row d-flex justify-content-center"},as={class:"col-lg-6"},ss={class:"card"},ls={class:"card-body"},rs=(0,s._)("h3",null,"Edit Product Section",-1),ns=(0,s._)("h5",null,"Please Enter Updated Product Details",-1),cs={key:0,class:"flash-message"},is={class:"text-danger"},ds={class:"form-group"},us=(0,s._)("label",{for:"editProductName"},"Old Product Name:",-1),gs={class:"form-group"},ms=(0,s._)("label",{for:"editNewProductName"},"New Product Name:",-1),_s={class:"form-group"},ps=(0,s._)("label",{for:"categories"},"Choose Category:",-1),hs=(0,s._)("option",{value:"",disabled:"",selected:""},"Select Category",-1),vs=["value"],ys={class:"form-group"},ws=(0,s._)("label",{for:"editPrice"},"Product price:",-1),fs={class:"form-group"},bs=(0,s._)("label",{for:"units"},"Select Units:",-1),Ps=(0,s._)("option",{value:"",disabled:"",selected:""},"Select Units",-1),xs=(0,s._)("option",{value:"litres"},"Litres",-1),Cs=(0,s._)("option",{value:"kgs"},"Kgs",-1),ks=(0,s._)("option",{value:"dozens"},"Dozens",-1),Ds=[Ps,xs,Cs,ks],Zs={class:"form-group"},Ns=(0,s._)("label",{for:"quantity"},"quantity",-1),zs=(0,s._)("button",{type:"submit",class:"btn btn-primary mt-3"}," Submit ",-1);function qs(e,t,o,l,r,n){const c=(0,s.up)("managerNav");return(0,s.wg)(),(0,s.iD)("div",es,[(0,s.Wm)(c),(0,s._)("div",ts,[(0,s._)("div",os,[(0,s._)("div",as,[(0,s._)("div",ss,[(0,s._)("div",ls,[rs,ns,(0,s._)("form",{onSubmit:t[6]||(t[6]=(0,a.iM)(((...e)=>n.editProducts&&n.editProducts(...e)),["prevent"]))},[r.flash_message?((0,s.wg)(),(0,s.iD)("div",cs,[(0,s._)("h6",is,(0,g.zw)(r.flash_message),1)])):(0,s.kq)("",!0),(0,s._)("div",ds,[us,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.editProductName=e),type:"text",class:"form-control",id:"editProductName",required:""},null,512),[[a.nr,r.editProductName]])]),(0,s._)("div",gs,[ms,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.editNewProductName=e),type:"text",class:"form-control",id:"editNewProductName",required:""},null,512),[[a.nr,r.editNewProductName]])]),(0,s._)("div",_s,[ps,(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedCategory=e),id:"categories"},[hs,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.categories,((e,t)=>((0,s.wg)(),(0,s.iD)("option",{value:e.category_id,key:t},(0,g.zw)(e.category_name),9,vs)))),128))],512),[[a.bM,r.selectedCategory]])]),(0,s._)("div",ys,[ws,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.editPrice=e),type:"text",class:"form-control",id:"editPrice",required:""},null,512),[[a.nr,r.editPrice]])]),(0,s._)("div",fs,[bs,(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>r.selectedUnit=e),id:"units"},Ds,512),[[a.bM,r.selectedUnit]])]),(0,s._)("div",Zs,[Ns,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.quantity=e),type:"number",class:"form-control",id:"quantity",required:""},null,512),[[a.nr,r.quantity]])]),zs],32)])])])])])])}var As={name:"addproduct-home",components:{managerNav:Go},data(){return{categories:[],editProductName:"",editNewProductName:"",editPrice:"",quantity:"",selectedCategory:"",selectedUnit:"",flash_message:""}},mounted(){this.fetchCategories()},methods:{async fetchCategories(){await q.Z;try{const e=await q.Z.get("http://localhost:5050/getCategories");console.log(e),this.categories=e.data.categories,console.log(this.categories)}catch(e){console.log(e)}},async editProducts(){const e=u.Z.get("logged_id");console.log(e);const t={editProductName:this.editProductName,editNewProductName:this.editNewProductName,editPrice:this.editPrice,quantity:this.quantity,category:this.selectedCategory,unit:this.selectedUnit,store_manager_id:e};await q.Z;try{const e=await q.Z.post("http://localhost:5050/editProduct",t);console.log(e),202==e.request.status||201==e.request.status?this.flash_message=e.data.flash_message:this.$router.push("/managerHome")}catch(o){console.log(o)}}}};const Us=(0,n.Z)(As,[["render",qs]]);var Ss=Us;const js={class:"content-wrapper"},Hs={class:"container-xxl flex-grow-1 container-p-y mt-5"},Ms={class:"row d-flex justify-content-center"},Os={class:"col-lg-6"},Ws={class:"card"},Vs={class:"card-body"},Rs=(0,s._)("h4",null,"All Products Section",-1),Ls=(0,s._)("div",{class:"d-flex flex-row justify-content-between"},[(0,s._)("div",{class:"mr-4"},"Product Name"),(0,s._)("div",null,"Price"),(0,s._)("div",{class:"mr-3"},"No of Items")],-1),Fs={class:"list-group"},Is={class:"d-flex justify-content-between"},Qs={class:"text-warning"},Es={key:0},Ks={class:"text-success"},Ys={key:1},$s=(0,s._)("p",{class:"text-danger"},"Out of Stock",-1),Gs=[$s];function Ts(e,t,o,a,l,r){const n=(0,s.up)("navbar");return(0,s.wg)(),(0,s.iD)("div",js,[(0,s.Wm)(n),(0,s._)("div",Hs,[(0,s._)("div",Ms,[(0,s._)("div",Os,[(0,s._)("div",Ws,[(0,s._)("div",Vs,[Rs,Ls,(0,s._)("ul",Fs,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"list-group-item"},[(0,s._)("div",Is,[(0,s._)("div",null,(0,g.zw)(e.product_name),1),(0,s._)("div",null,[(0,s._)("p",Qs,(0,g.zw)(e.price)+" Rs/- "+(0,g.zw)(e.units),1)]),(0,s._)("div",null,[e.Quantity>0?((0,s.wg)(),(0,s.iD)("div",Es,[(0,s._)("p",Ks,(0,g.zw)(e.Quantity)+" "+(0,g.zw)(e.units),1)])):((0,s.wg)(),(0,s.iD)("div",Ys,Gs))])])])))),128))])])])])])])])}var Bs={name:"custom-navbar",data(){return{products:[]}},components:{navbar:ft},mounted(){this.fetchProducts()},methods:{async fetchProducts(){await q.Z;try{const e=await q.Z.get("http://localhost:5050/allproducts");console.log(e),this.products=e.data.products,console.log(this.products)}catch(e){console.log(e)}}}};const Js=(0,n.Z)(Bs,[["render",Ts]]);var Xs=Js;const el={class:"navbar navbar-expand-lg navbar-light bg-light"},tl={class:"container"},ol=(0,s.uE)('<a class="navbar-brand nav-element" href="/userHome">Grocery Store</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="/myCart">My Cart</a></li><li class="nav-item"><a class="nav-link" href="/orders">My Orders</a></li></ul>',2),al={class:"form-inline my-2 my-lg-0 d-flex flex-row"},sl={class:"navbar-nav ml-auto"},ll={class:"container-xxl flex-grow-1 container-p-y mt-5"},rl={class:"row d-flex justify-content-center"},nl={class:"text-center"},cl={class:"form-group col-lg-3"},il=(0,s._)("label",{for:"categories"},"Choose Category:",-1),dl=(0,s._)("option",{value:"0"},"All Categories",-1),ul=["value"],gl={class:"col-lg-6"},ml={class:"card"},_l={key:0,class:"card-body"},pl=(0,s._)("h1",null,"No Products on your Filter",-1),hl=[pl],vl={key:1,class:"card-body"},yl={key:0,class:"text-success"},wl=(0,s.uE)('<h4>All Products Available</h4><div class="d-flex flex-row justify-content-between"><div class="mr-4">Category Name</div><div class="mr-4">Product Name</div><div>Price</div><div class="mr-3">No of Items</div><div class="mr-3">Add to Cart</div></div>',2),fl={class:"list-group"},bl={class:"d-flex justify-content-between"},Pl={class:"text-warning"},xl={key:0},Cl={class:"text-success"},kl={key:1},Dl=(0,s._)("p",{class:"text-danger"},"Out of Stock",-1),Zl=[Dl],Nl=["onClick"],zl={key:1,class:"btn btn-warning btn-block",disabled:""};function ql(e,t,o,l,r,n){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",null,[(0,s._)("nav",el,[(0,s._)("div",tl,[ol,(0,s._)("form",al,[(0,s.wy)((0,s._)("input",{class:"form-control mr-2",type:"search",placeholder:"Search with Product or price ","aria-label":"Search","onUpdate:modelValue":t[0]||(t[0]=e=>r.searchProduct=e),onInput:t[1]||(t[1]=(...e)=>n.onChangeSearchInputProduct&&n.onChangeSearchInputProduct(...e))},null,544),[[a.nr,r.searchProduct]])]),(0,s._)("ul",sl,[(0,s._)("li",null,[(0,s._)("button",{class:"btn btn-outline-danger my-2 my-sm-0",onClick:t[2]||(t[2]=(...e)=>n.logout&&n.logout(...e))}," Logout ")])])])])]),(0,s._)("div",ll,[(0,s._)("div",rl,[(0,s._)("h1",nl,"Welcome "+(0,g.zw)(r.username),1),(0,s._)("div",cl,[il,(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>r.selectCategory=e),onChange:t[4]||(t[4]=(...e)=>n.getFilteredProducts&&n.getFilteredProducts(...e)),id:"categories"},[dl,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.categories,((e,t)=>((0,s.wg)(),(0,s.iD)("option",{value:e.category_id,key:t},(0,g.zw)(e.category_name),9,ul)))),128))],544),[[a.bM,r.selectCategory]])]),(0,s._)("div",gl,[(0,s._)("div",ml,[r.no_products?((0,s.wg)(),(0,s.iD)("div",_l,hl)):((0,s.wg)(),(0,s.iD)("div",vl,[r.flash_message?((0,s.wg)(),(0,s.iD)("h4",yl,(0,g.zw)(r.flash_message),1)):(0,s.kq)("",!0),wl,(0,s._)("ul",fl,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.category_products,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"list-group-item"},[(0,s._)("div",bl,[(0,s._)("div",null,(0,g.zw)(e.category_name),1),(0,s._)("div",null,(0,g.zw)(e.product_name),1),(0,s._)("div",null,[(0,s._)("p",Pl,(0,g.zw)(e.price)+" /- "+(0,g.zw)(e.units),1)]),(0,s._)("div",null,[e.Quantity>0?((0,s.wg)(),(0,s.iD)("div",xl,[(0,s._)("p",Cl,(0,g.zw)(e.Quantity)+" Items ",1)])):((0,s.wg)(),(0,s.iD)("div",kl,Zl))]),n.isProductInCart(e.product_name)?((0,s.wg)(),(0,s.iD)("button",zl," Added ")):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t=>n.addingToCart(e.product_name),class:"btn btn-primary btn-block"}," Add to Cart ",8,Nl))])])))),128))])]))])])])])])}var Al={name:"user-Home",data(){return{category_products:[],username:u.Z.get("username"),categories:[],selectCategory:0,searchProduct:"",no_products:!1,addedProducts:[],flash_message:""}},mounted(){this.getFilteredProducts(),this.fetchCategories(),this.getCartProducts()},methods:{logout(){u.Z.remove("logged_id"),u.Z.remove("jwt_token"),u.Z.remove("username"),u.Z.remove("role"),this.$router.push("/")},async fetchCategories(){await q.Z;try{const e=await q.Z.get("http://localhost:5050/getCategories");console.log(e),this.categories=e.data.categories,console.log(this.categories)}catch(e){console.log(e)}},isProductInCart(e){if(this.addedProducts)return this.addedProducts.some((t=>t.product_name===e))},async getFilteredProducts(){const e={category:this.selectCategory};console.log(this.selectCategory);try{const t=await q.Z.post("http://localhost:5050/filterProducts",e);console.log(t),this.category_products=t.data.category_products,console.log(this.category_products)}catch(t){console.log(t)}},async addingToCart(e){const t=u.Z.get("logged_id"),o={user_id:t,product_name:e};await q.Z.post("http://localhost:5050/add_to_cart",o).then((e=>{console.log(e.data.message),this.flash_message=e.data.message,this.getFilteredProducts()})).catch((e=>{console.error(e)}))},async getCartProducts(){const e=u.Z.get("logged_id");console.log(e),await q.Z;try{const t=await q.Z.post("http://localhost:5050/getcart",{user_id:e});console.log(t),202!==t.status&&(this.addedProducts=t.data.cartList,console.log(this.addedProducts))}catch(t){console.log(t)}},onChangeSearchInputProduct(){console.log(this.searchProduct);const e=this.searchProduct.toLowerCase();if(""!=e){const t=this.category_products.filter((t=>{const o=t.product_name.toLowerCase(),a=t.price.toString().toLowerCase();return o.includes(e)||a.includes(e)}));this.category_products=t,0==this.category_products.length&&(this.no_products=!0)}else console.log("HelloWorld"),this.getFilteredProducts()}}};const Ul=(0,n.Z)(Al,[["render",ql]]);var Sl=Ul;const jl={class:"container-xxl flex-grow-1 container-p-y mt-5"},Hl={class:"row d-flex justify-content-center"},Ml={class:"col-lg-6"},Ol={class:"card"},Wl={key:0},Vl=(0,s._)("h3",null,"No produts in your cart Try to add",-1),Rl=(0,s._)("a",{href:"/userHome",class:"text-white btn btn-primary m-3text-decoration-none"},"Add to Cart",-1),Ll=[Vl,Rl],Fl={key:1,class:"card-body"},Il=(0,s._)("h4",null,"Recent Products Added to Cart Section",-1),Ql=(0,s._)("div",{class:"d-flex flex-row justify-content-between"},[(0,s._)("div",null,"Category"),(0,s._)("div",null,"Product"),(0,s._)("div",null,"Price"),(0,s._)("div",null,"Available"),(0,s._)("div",null,"Quantity"),(0,s._)("div",null,"Delete")],-1),El={class:"list-group"},Kl={class:"d-flex justify-content-between"},Yl={class:"text-warning"},$l={key:0},Gl={class:"text-success"},Tl={key:1},Bl=(0,s._)("p",{class:"text-danger"},"Out of Stock",-1),Jl=[Bl],Xl=["onUpdate:modelValue","max","onBlur"],er={key:0,class:"invalid-feedback"},tr=["onClick"],or={key:2},ar={class:"btn btn-primary m-5"},sr={key:3},lr={class:"text-success m-3"};function rr(e,t,o,l,r,n){const c=(0,s.up)("userNavbar");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c),(0,s._)("div",jl,[(0,s._)("div",Hl,[(0,s._)("div",Ml,[(0,s._)("h3",null,"Welcome "+(0,g.zw)(r.username),1),(0,s._)("div",Ol,[r.no_cart?((0,s.wg)(),(0,s.iD)("div",Wl,Ll)):((0,s.wg)(),(0,s.iD)("div",Fl,[Il,Ql,(0,s._)("ul",El,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.cart,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"list-group-item"},[(0,s._)("div",Kl,[(0,s._)("div",null,(0,g.zw)(e.category_name),1),(0,s._)("div",null,(0,g.zw)(e.product_name),1),(0,s._)("div",null,[(0,s._)("p",Yl,(0,g.zw)(e.price)+" /- "+(0,g.zw)(e.units),1)]),(0,s._)("div",null,[e.Quantity>0?((0,s.wg)(),(0,s.iD)("div",$l,[(0,s._)("p",Gl,(0,g.zw)(e.Quantity)+" "+(0,g.zw)(e.units),1)])):((0,s.wg)(),(0,s.iD)("div",Tl,Jl))]),(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{id:"category_product.product_id",type:"number","onUpdate:modelValue":t=>r.quantity[e.product_id]=t,class:"form-control",style:{height:"30px",width:"100px"},min:1,max:e.Quantity,onBlur:t=>n.updateItemAmount(e)},null,40,Xl),[[a.nr,r.quantity[e.product_id]]]),r.quantity[e.product_id]<1||r.quantity[e.product_id]>e.Quantity?((0,s.wg)(),(0,s.iD)("div",er," Quantity must be between 1 and "+(0,g.zw)(e.Quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:t=>n.deletingFromCart(e.product_name),class:"btn btn-danger btn-block"}," Remove ",8,tr)])])])))),128))])])),0!==r.cartAmount?((0,s.wg)(),(0,s.iD)("div",or,[(0,s._)("button",ar," Total Cart Products Price: "+(0,g.zw)(r.cartAmount),1)])):(0,s.kq)("",!0),r.flash_message?((0,s.wg)(),(0,s.iD)("div",sr,[(0,s._)("h4",lr,(0,g.zw)(r.flash_message),1)])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>n.orderNow&&n.orderNow(...e)),class:"btn btn-primary m-5"}," Order Now ")])])])])])])}const nr={class:"navbar navbar-expand-lg navbar-light bg-light"},cr={class:"container"},ir=(0,s.uE)('<a class="navbar-brand nav-element" href="/userHome">Grocery Store</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="/myCart">My Cart</a></li><li class="nav-item"><a class="nav-link" href="/orders">My Orders</a></li></ul>',2),dr={class:"navbar-nav ml-auto"};function ur(e,t,o,a,l,r){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("nav",nr,[(0,s._)("div",cr,[ir,(0,s._)("ul",dr,[(0,s._)("li",null,[(0,s._)("button",{class:"btn btn-outline-danger my-2 my-sm-0",onClick:t[0]||(t[0]=(...e)=>r.onClickLogout&&r.onClickLogout(...e))}," Logout ")])])])])])}var gr={name:"user-navbar",methods:{onClickLogout(){u.Z.remove("logged_id"),u.Z.remove("jwt_token"),u.Z.remove("username"),u.Z.remove("role"),this.$router.push("/")}}};const mr=(0,n.Z)(gr,[["render",ur]]);var _r=mr,pr={name:"user-cart",components:{userNavbar:_r},data(){return{username:u.Z.get("username"),cart:[],no_cart:!1,quantity:{},IndividualAmount:{},cartAmount:0,flash_message:""}},mounted(){this.getCartProducts(),this.getFinalCartAmount()},methods:{async getCartProducts(){const e=u.Z.get("logged_id");console.log(e),await q.Z;try{const t=await q.Z.post("http://localhost:5050/getcart",{user_id:e});console.log(t),202!==t.status?(this.cart=t.data.cartList,console.log(this.cart)):this.no_cart=!0,console.log(this.cart)}catch(t){console.log(t)}},updateItemAmount(e){const t=this.quantity[e.product_id],o=e.Quantity;t<1?this.quantity[e.product_id]=1:t>o&&(this.quantity[e.product_id]=o),this.IndividualAmount[e.product_id]=e.price*this.quantity[e.product_id],console.log(this.quantity),console.log(this.IndividualAmount),this.getFinalCartAmount()},getFinalCartAmount(){console.log("Hello World");const e=Object.values(this.IndividualAmount).reduce(((e,t)=>e+t),0);console.log(e),this.cartAmount=e},async orderNow(){const e=u.Z.get("logged_id");console.log(e),await q.Z;try{const t=await q.Z.post("http://localhost:5050/orders",{user_id:e,quantity:this.quantity,amount:this.IndividualAmount});console.log(t),this.flash_message=t.data.message}catch(t){console.log(t)}},async deletingFromCart(e){const t=u.Z.get("logged_id"),o={user_id:t,product_name:e};await q.Z.post("http://localhost:5050/remove_from_cart",o).then((e=>{console.log(e.data.message),this.flash_message=e.data.message,this.getFilteredProducts()})).catch((e=>{console.error(e)}))}}};const hr=(0,n.Z)(pr,[["render",rr]]);var vr=hr;const yr={class:"d-flex flex-column align-items-center justify-content-center p=5"},wr=(0,s._)("h1",null,"Not Found URL or Unauthorized Access",-1),fr=(0,s._)("p",null,"Click the button to Go Home",-1);function br(e,t,o,a,l,r){return(0,s.wg)(),(0,s.iD)("div",yr,[wr,fr,(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>r.backHome&&r.backHome(...e)),class:"btn btn-warning",style:{width:"100px"}}," Go Home ")])}var Pr={name:"NotFound-page",methods:{backHome(){const e=u.Z.get("role");"admin"===e?this.$router.push("/adminHome"):"manager"===e?this.$router.push("/managerHome"):"user"===e?this.$router.push("/userHome"):this.$router.push("/")}}};const xr=(0,n.Z)(Pr,[["render",br]]);var Cr=xr;const kr={class:"container-xxl flex-grow-1 container-p-y mt-5"},Dr={class:"row d-flex justify-content-center"},Zr={class:"col-lg-6"},Nr={class:"card"},zr={key:0},qr=(0,s._)("h3",null,"No orders in your cart. Try adding some products.",-1),Ar=(0,s._)("a",{href:"/userHome",class:"text-white btn btn-primary m-3 text-decoration-none"},"Add to Cart",-1),Ur=[qr,Ar],Sr={key:1,class:"card-body"},jr=(0,s._)("h4",null,"Recent Products Added to the Order Section",-1),Hr=(0,s._)("div",{class:"d-flex flex-row justify-content-between"},[(0,s._)("div",null,"Product"),(0,s._)("div",null,"Price"),(0,s._)("div",null,"Quantity"),(0,s._)("div",null,"Amount")],-1),Mr={class:"list-group"},Or={class:"d-flex justify-content-between"},Wr={class:"text-warning"},Vr={class:"text-success"},Rr={class:"text-success"};function Lr(e,t,o,a,l,r){const n=(0,s.up)("userNavbar");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n),(0,s._)("div",kr,[(0,s._)("div",Dr,[(0,s._)("div",Zr,[(0,s._)("h3",null,"Welcome "+(0,g.zw)(l.username),1),(0,s._)("div",Nr,[l.no_order?((0,s.wg)(),(0,s.iD)("div",zr,Ur)):((0,s.wg)(),(0,s.iD)("div",Sr,[jr,Hr,(0,s._)("ul",Mr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.orders,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"list-group-item"},[(0,s._)("div",Or,[(0,s._)("div",null,(0,g.zw)(e.product_name),1),(0,s._)("div",null,[(0,s._)("p",Wr,(0,g.zw)(e.price)+" /- "+(0,g.zw)(e.units),1)]),(0,s._)("div",null,[(0,s._)("p",Vr,(0,g.zw)(e.Quantity)+" "+(0,g.zw)(e.units),1)]),(0,s._)("div",null,[(0,s._)("p",Rr,(0,g.zw)(e.amount),1)])])])))),128))])]))])])])])])}var Fr={name:"user-orders",components:{userNavbar:_r},data(){return{username:u.Z.get("username"),orders:[],no_order:!1}},mounted(){this.getOrders()},methods:{async getOrders(){const e=u.Z.get("logged_id"),t={user_id:e};try{const e=await q.Z.post("http://localhost:5050/orderTable",t);console.log(e),0!==e.data.length?(this.orders=e.data.orders_list,console.log(this.orders)):this.no_order=!0}catch(o){console.log(o)}}}};const Ir=(0,n.Z)(Fr,[["render",Lr]]);var Qr=Ir;const Er=[{path:"/",component:S},{path:"/signup",component:oe},{path:"/adminHome",component:xt,meta:{roleAccessed:["admin"]}},{path:"/deleteCategory",component:Jt,meta:{roleAccessed:["admin"]}},{path:"/addCategory",component:Wt,meta:{roleAccessed:["admin"]}},{path:"/editCategory",component:ho,meta:{roleAccessed:["admin"]}},{path:"/managerHome",component:Jo,meta:{roleAccessed:["manager"]}},{path:"/deleteProduct",component:Xa,meta:{roleAccessed:["manager"]}},{path:"/addProduct",component:qa,meta:{roleAccessed:["manager"]}},{path:"/editProduct",component:Ss,meta:{roleAccessed:["manager"]}},{path:"/allProducts",component:Xs,meta:{roleAccessed:["admin"]}},{path:"/userHome",component:Sl,meta:{roleAccessed:["user"]}},{path:"/myCart",component:vr,meta:{roleAccessed:["user"]}},{path:"/notFound",component:Cr},{path:"/orders",component:Qr,meta:{roleAccessed:["user"]}},{path:"/:catchAll(.*)",redirect:"/notFound"}],Kr=(0,d.p7)({history:(0,d.PO)(),routes:Er});Kr.beforeEach(((e,t,o)=>{const a=e.meta.roleAccessed,s=u.Z.get("role");!a||a.includes(s)?(console.log("HElloworld"),o()):o("/notFound")}));var Yr=Kr;const $r=(0,a.ri)(i);$r.use(Yr),$r.mount("#app")}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,a,s,l){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],l=e[d][2];for(var n=!0,c=0;c<a.length;c++)(!1&l||r>=l)&&Object.keys(o.O).every((function(e){return o.O[e](a[c])}))?a.splice(c--,1):(n=!1,l<r&&(r=l));if(n){e.splice(d--,1);var i=s();void 0!==i&&(t=i)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[a,s,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,l,r=a[0],n=a[1],c=a[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(s in n)o.o(n,s)&&(o.m[s]=n[s]);if(c)var d=c(o)}for(t&&t(a);i<r.length;i++)l=r[i],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(d)},a=self["webpackChunkgrocery_v1_0"]=self["webpackChunkgrocery_v1_0"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(5312)}));a=o.O(a)})();
//# sourceMappingURL=app.7da89770.js.map